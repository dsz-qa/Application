<Window x:Class="Finly.Views.Dialogs.EditBudgetDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:models="clr-namespace:Finly.Models"
        Title="Budżet"
        WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        Background="{DynamicResource App.Background}"
        Foreground="{DynamicResource App.Foreground}">

	<Border Margin="20"
            Padding="20"
            Background="{DynamicResource Surface.Background}"
            BorderBrush="{DynamicResource Surface.Border}"
            BorderThickness="1"
            CornerRadius="10"
            MinWidth="520">

		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="14"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="18"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="180"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<!-- Header -->
			<TextBlock Grid.Row="0"
                       Grid.ColumnSpan="2"
                       Text="Budżet"
                       FontSize="18"
                       FontWeight="Bold"/>

			<!-- Nazwa -->
			<TextBlock Grid.Row="2" Grid.Column="0" Text="Nazwa budżetu:" VerticalAlignment="Center" Margin="0,0,8,0"/>
			<TextBox Grid.Row="2" Grid.Column="1"
                     MinWidth="260"
                     Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

			<!-- Typ -->
			<TextBlock Grid.Row="3" Grid.Column="0" Text="Okres:" VerticalAlignment="Center" Margin="0,0,8,0"/>
			<ComboBox Grid.Row="3" Grid.Column="1"
                      SelectedValuePath="Tag"
                      SelectedValue="{Binding Type, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
				<ComboBoxItem Content="Tygodniowy" Tag="{x:Static models:BudgetType.Weekly}" />
				<ComboBoxItem Content="Miesięczny" Tag="{x:Static models:BudgetType.Monthly}" />
				<ComboBoxItem Content="Roczny" Tag="{x:Static models:BudgetType.Yearly}" />
			</ComboBox>

			<!-- Okres dat -->
			<TextBlock Grid.Row="4" Grid.Column="0" Text="Okres:" VerticalAlignment="Center" Margin="0,0,8,0"/>

			<Grid Grid.Row="4" Grid.Column="1">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*"/>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>

				<DatePicker Grid.Column="0"
                            SelectedDate="{Binding StartDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

				<TextBlock Grid.Column="1"
                           Text="—"
                           Margin="10,0"
                           VerticalAlignment="Center"
                           Opacity="0.8"/>

				<DatePicker Grid.Column="2"
                            SelectedDate="{Binding EndDate, Mode=OneWay}"
                            IsEnabled="False"
                            Opacity="0.9"/>
			</Grid>

			<!-- Kwota -->
			<TextBlock Grid.Row="5" Grid.Column="0" Text="Kwota planowana:" VerticalAlignment="Center" Margin="0,0,8,0"/>
			<TextBox Grid.Row="5" Grid.Column="1"
                     Text="{Binding PlannedAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, StringFormat=F2}"/>

			<!-- Buttons -->
			<StackPanel Grid.Row="7"
                        Grid.ColumnSpan="2"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right">
				<Button Content="Anuluj"
                        Style="{StaticResource SecondaryButton}"
                        IsCancel="True"
                        Click="Cancel_Click"/>

				<Button Content="Zapisz"
                        Style="{StaticResource PrimaryButton}"
                        Margin="8,0,0,0"
                        IsDefault="True"
                        Click="Ok_Click"/>
			</StackPanel>
		</Grid>
	</Border>
</Window>
