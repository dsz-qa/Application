<Window x:Class="Finly.Views.Dialogs.EditBankAccountDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:shell="clr-namespace:System.Windows.Shell;assembly=PresentationFramework"
        Title="Konto bankowe"
        WindowStartupLocation="CenterOwner"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="{DynamicResource App.Background}"
        Foreground="{DynamicResource App.Foreground}"
        Icon="/Assets/Icons/logoFinly.ico">

	<shell:WindowChrome.WindowChrome>
		<shell:WindowChrome CaptionHeight="40"
                            ResizeBorderThickness="0"
                            CornerRadius="0"
                            UseAeroCaptionButtons="False"/>
	</shell:WindowChrome.WindowChrome>

	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="40"/>
			<RowDefinition Height="Auto"/>
		</Grid.RowDefinitions>

		<!-- Title bar -->
		<Grid Grid.Row="0"
              Background="{DynamicResource TitleBar.Background}"
              MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
			<Grid.ColumnDefinitions>
				<ColumnDefinition/>
				<ColumnDefinition Width="Auto"/>
			</Grid.ColumnDefinitions>

			<TextBlock x:Name="TitleBarText"
                       Text="Konto bankowe"
                       VerticalAlignment="Center"
                       Margin="12,0,0,0"
                       Foreground="{DynamicResource App.Foreground}"
                       FontSize="13"
                       shell:WindowChrome.IsHitTestVisibleInChrome="True"/>

			<StackPanel Grid.Column="1" Orientation="Horizontal">
				<Button Width="46" Height="32" Padding="0"
                        Background="Transparent"
                        BorderBrush="{x:Null}"
                        Foreground="{DynamicResource App.Foreground}"
                        Cursor="Hand"
                        FocusVisualStyle="{x:Null}"
                        shell:WindowChrome.IsHitTestVisibleInChrome="True"
                        Click="Close_Click">
					<TextBlock Text="✕" FontSize="12"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
				</Button>
			</StackPanel>
		</Grid>

		<!-- Content -->
		<Border Grid.Row="1"
                Margin="14"
                Padding="16"
                Background="{DynamicResource App.Background}"
                BorderBrush="{DynamicResource Surface.Border}"
                BorderThickness="1"
                CornerRadius="12"
                MinWidth="560">

			<Border Padding="16"
                    Background="{DynamicResource Surface.Background}"
                    BorderBrush="{DynamicResource Surface.Border}"
                    BorderThickness="1"
                    CornerRadius="10">

				<Grid>
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="12"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="18"/>
						<RowDefinition Height="Auto"/>
					</Grid.RowDefinitions>

					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="180"/>
						<ColumnDefinition Width="*"/>
					</Grid.ColumnDefinitions>

					<!-- Header -->
					<Grid Grid.Row="0" Grid.ColumnSpan="2" Margin="0,0,0,6">
						<StackPanel>
							<TextBlock x:Name="HeaderTitleText"
                                       Text="Dodaj konto bankowe"
                                       FontSize="18"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource App.Foreground}"/>
							<TextBlock x:Name="HeaderSubtitleText"
                                       Text="Uzupełnij dane konta i zapisz zmiany."
                                       Opacity="0.75"
                                       Foreground="{DynamicResource App.Foreground}"/>
						</StackPanel>
					</Grid>

					<!-- Bank -->
					<TextBlock Grid.Row="2" Grid.Column="0"
                               Text="Bank:"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0"/>

					<ComboBox x:Name="BankCombo"
                              Grid.Row="2" Grid.Column="1"
                              MinWidth="260">

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/revolutlogo.png"/>
								<TextBlock Text="Revolut"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/pkobplogo.jpg"/>
								<TextBlock Text="PKO Bank Polski"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/mbanklogo.jpg"/>
								<TextBlock Text="mBank"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/pekaologo.jpg"/>
								<TextBlock Text="Bank Pekao"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/inglogo.png"/>
								<TextBlock Text="ING Bank Śląski"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/creditagricolelogo.png"/>
								<TextBlock Text="Credit Agricole"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/santanderlogo.png"/>
								<TextBlock Text="Santander Bank Polska"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/aliorbanklogo.png"/>
								<TextBlock Text="Alior Bank"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/milleniumlogo.png"/>
								<TextBlock Text="Millennium"/>
							</StackPanel>
						</ComboBoxItem>

						<ComboBoxItem>
							<StackPanel Orientation="Horizontal">
								<Image Width="20" Height="20" Margin="0,0,8,0"
                                       Source="pack://application:,,,/Assets/Banks/innybank.png"/>
								<TextBlock Text="Inny bank"/>
							</StackPanel>
						</ComboBoxItem>

                        <ComboBoxItem>
                            <StackPanel Orientation="Horizontal">
                                <Image Width="20" Height="20" Margin="0,0,8,0"
               Source="pack://application:,,,/Assets/Banks/xtblogo.png"/>
                                <TextBlock Text="XTB"/>
                            </StackPanel>
                        </ComboBoxItem>

                    </ComboBox>

					<!-- Nazwa rachunku -->
					<TextBlock Grid.Row="3" Grid.Column="0"
                               Text="Nazwa rachunku:"
                               VerticalAlignment="Center"
                               Margin="0,10,10,0"/>

					<TextBox Grid.Row="3" Grid.Column="1"
                             x:Name="AccountNameBox"
                             Margin="0,10,0,0"
                             Height="26"
                             VerticalContentAlignment="Center"/>

					<!-- IBAN -->
					<TextBlock Grid.Row="4" Grid.Column="0"
                               Text="IBAN (opcjonalnie):"
                               VerticalAlignment="Center"
                               Margin="0,10,10,0"/>

					<StackPanel Grid.Row="4" Grid.Column="1" Margin="0,10,0,0">
						<TextBox x:Name="IbanBox"
                                 Height="26"
                                 VerticalContentAlignment="Center"
                                 TextChanged="IbanBox_TextChanged"/>

						<TextBlock x:Name="IbanHintText"
                                   Margin="2,4,0,0"
                                   Foreground="{DynamicResource Brand.Red}"
                                   FontSize="11"
                                   TextWrapping="Wrap"
                                   Visibility="Collapsed"/>
					</StackPanel>

					<!-- Saldo -->
					<TextBlock Grid.Row="5" Grid.Column="0"
                               Text="Saldo (PLN):"
                               VerticalAlignment="Center"
                               Margin="0,10,10,0"/>

					<TextBox Grid.Row="5" Grid.Column="1"
                             x:Name="BalanceBox"
                             Margin="0,10,0,0"
                             Height="26"
                             HorizontalContentAlignment="Right"
                             VerticalContentAlignment="Center"
                             GotFocus="BalanceBox_GotFocus"
                             LostFocus="BalanceBox_LostFocus"/>

					<!-- Buttons -->
					<StackPanel Grid.Row="7"
                                Grid.ColumnSpan="2"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right">
						<Button Content="Anuluj"
                                Style="{StaticResource SecondaryButton}"
                                IsCancel="True"
                                Click="Cancel_Click"/>

						<Button Content="Zapisz"
                                Style="{StaticResource PrimaryButton}"
                                Margin="8,0,0,0"
                                IsDefault="True"
                                Click="Ok_Click"/>
					</StackPanel>
				</Grid>
			</Border>
		</Border>
	</Grid>
</Window>
