<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

	<!-- GLOBAL SEARCH BOX -->
	<Style x:Key="SearchBoxStyle"
           TargetType="TextBox">

		<!-- bazowe -->
		<Setter Property="Height" Value="32"/>
		<Setter Property="Background" Value="Transparent"/>
		<Setter Property="Foreground" Value="{DynamicResource App.Foreground}"/>
		<Setter Property="BorderThickness" Value="0"/>
		<Setter Property="Padding" Value="0"/>
		<Setter Property="VerticalContentAlignment" Value="Center"/>

		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="TextBox">
					<Border x:Name="OuterBorder"
                            Background="{DynamicResource Surface.Background}"
                            BorderBrush="{DynamicResource Surface.Border}"
                            BorderThickness="1"
                            CornerRadius="6"
                            Padding="8">

						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="Auto"/>
								<ColumnDefinition Width="*"/>
							</Grid.ColumnDefinitions>

							<!-- IKONA -->
							<Image Grid.Column="0"
                                   Source="pack://application:,,,/Assets/Icons/search.png"
                                   Width="18"
                                   Height="18"
                                   Margin="2,0,8,0"
                                   VerticalAlignment="Center"
                                   Stretch="Uniform"
                                   SnapsToDevicePixels="True"/>

							<!-- TEKST -->
							<Grid Grid.Column="1">
								<!-- CONTENT -->
								<ScrollViewer x:Name="PART_ContentHost"
                                              VerticalAlignment="Center"/>

								<!-- PLACEHOLDER -->
								<TextBlock x:Name="PlaceholderText"
                                           Text="Szukaj"
                                           Foreground="#777"
                                           VerticalAlignment="Center"
                                           IsHitTestVisible="False"/>
							</Grid>
						</Grid>
					</Border>

					<!-- LOGIKA PLACEHOLDERA -->
					<ControlTemplate.Triggers>

						<!-- gdy coś wpisane → ukryj -->
						<Trigger Property="Text" Value="">
							<Setter TargetName="PlaceholderText"
                                    Property="Visibility"
                                    Value="Visible"/>
						</Trigger>

						<Trigger Property="Text" Value="{x:Null}">
							<Setter TargetName="PlaceholderText"
                                    Property="Visibility"
                                    Value="Visible"/>
						</Trigger>

						<!-- gdy focus → ukryj -->
						<Trigger Property="IsKeyboardFocused" Value="True">
							<Setter TargetName="PlaceholderText"
                                    Property="Visibility"
                                    Value="Collapsed"/>
							<Setter TargetName="OuterBorder"
                                    Property="BorderBrush"
                                    Value="{DynamicResource Brand.Blue}"/>
						</Trigger>

						<!-- hover -->
						<Trigger Property="IsMouseOver" Value="True">
							<Setter TargetName="OuterBorder"
                                    Property="BorderBrush"
                                    Value="{DynamicResource Brand.Blue}"/>
						</Trigger>

						<!-- disabled -->
						<Trigger Property="IsEnabled" Value="False">
							<Setter Property="Opacity" Value="0.6"/>
						</Trigger>

					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

</ResourceDictionary>
